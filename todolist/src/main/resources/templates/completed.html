<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout :: head(表示)}"></head>
<script>
    window.addEventListener("DOMContentLoaded", function () {
        const bgUrl = localStorage.getItem("bgImage");
        document.body.style.backgroundImage = `url('${bgUrl}')`;
    });
</script>
<body>
    <div th:replace="~{layout :: header}"></div>
    
    <div id="listArea">
        <table border="1" class="list">
            <caption>完了済みタスク一覧</caption>
            <tr>
                <th>タイトル</th>
                <th>期限</th>
            </tr>
            <tr th:each="task : ${tasks}">
                <th><a th:href = "@{/todolist/detail(taskId=${task.taskId})}"><span th:text="${task.title}">TodoListをつくる</span></a></th>
                <th><span th:text="${task.limitDate}">2025/6/5</span></th>
            </tr>
        </table>
    </div>

    <div th:replace="~{layout :: footer}"></div>
</body>

</html>