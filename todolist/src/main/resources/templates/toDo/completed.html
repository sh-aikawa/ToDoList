<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout :: head(表示)}"></head>

<body>
    <div th:replace="~{layout :: header}"></div>
    <div class="mainArea">
        <div id="listArea">
            <table class="completedList">
                <h3 class="listTitle">完了済みタスク一覧</h3>
                <tr>
                    <th>タイトル</th>
                    <th>期限</th>
                    <th>優先度</th>
                    <th>削除</th>
                </tr>
                <tr th:each="task : ${tasks}">
                    <th class="todo-titles" th:attr="data-description=${task.description}">
                        <span th:text="${task.title}">TodoListをつくる</span></a></th>
                    <th><span th:text="${task.limitDate}">2025/6/5</span></th>
                    <th>
                        <span class="importance" th:if="${task.importance == 1}" th:text="'高'">高</span>
                        <span class="importance" th:if="${task.importance == 2}" th:text="'中'">中</span>
                        <span class="importance" th:if="${task.importance == 3}" th:text="'低'">低</span>
                    </th>
                    <th><span><a id="compelete_button_delete" class = "complete_button_delete" 
                        th:href = "@{/todolist/finishDeleteByTaskId(taskId=${task.taskId})}"></a></span></th>
                        
                </tr>
            </table>
        </div>
    </div>
    <div th:replace="~{layout :: footer}"></div>

    <div id="global-popup-content" class="popup-content"></div>
</body>

</html>

<!-- <script>
    window.addEventListener("DOMContentLoaded", function () {
        const bgUrl = localStorage.getItem("bgImage");
        document.body.style.backgroundImage = `url('${bgUrl}')`;
    });
</script> -->